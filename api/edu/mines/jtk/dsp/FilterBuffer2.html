<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Sun Jun 01 13:05:09 MDT 2014 -->
<title>FilterBuffer2 (Mines Java Toolkit)</title>
<meta name="date" content="2014-06-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FilterBuffer2 (Mines Java Toolkit)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/mines/jtk/dsp/FftReal.html" title="class in edu.mines.jtk.dsp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Extrapolation.html" title="enum in edu.mines.jtk.dsp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/mines/jtk/dsp/FilterBuffer2.html" target="_top">Frames</a></li>
<li><a href="FilterBuffer2.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.mines.jtk.dsp</div>
<h2 title="Class FilterBuffer2" class="title">Class FilterBuffer2</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.mines.jtk.dsp.FilterBuffer2</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">FilterBuffer2</span>
extends java.lang.Object</pre>
<div class="block">A buffer that facilitates the implementation of 2D filters. In effect, 
 this class pads a 2D array with extra values on the sides, but without 
 making a padded copy of the entire 2D array. Instead, this buffer 
 maintains copies of only a subset of the 1D arrays stored in the 2D 
 array. For typical 2D filters, that subset includes all input values 
 required to update a subset (often a single 1D array) of output values.
 <p>
 Output (filtered) values y[i2][i1] are assumed to depend on a limited
 subset of input values x[i2-l2:i2+m2][i1-l1:i1+m1], where l1, m1, l2, 
 and m2 are non-negative integers that define the extent of the filter. 
 Finite-difference stencils are examples of such filters.
 <p>
 One purpose of this buffer is to pad the input array so that indices
 such as i1-l1, i1+m1, i2-l2, and i2+m2 are never out of bounds, say,
 when i1-l1&lt;0. Instead, values are extrapolated, when necessary.
 Padding with extrapolated values simplifies filters by eliminating 
 special processing near the ends of arrays. Here, for example, is a
 program for a simple five-sample finite-difference approximation to
 a Laplacian:
 <pre><code>
  float[][] x = ... // an array[n2][n1] of input values
  float[][] y = ... // an array[n2][n1] of output values
  FilterBuffer2 fbx = new FilterBuffer2(1,1,1,1,x); // l1 = m1 = l2 = m2 = 1
  fbx.setExtrapolation(FilterBuffer2.Extrapolation.ZERO_SLOPE);
  for (int i2=0; i2&lt;n2; ++i2) { // the outer loop
    float[] xm = fbx.get(i2-1); // x[i2-1], extrapolation when i2 = 0
    float[] x0 = fbx.get(i2  ); // x[i2  ], extrapolation unnecessary
    float[] xp = fbx.get(i2+1); // x[i2+1], extrapolation when i2 = n2-1
    float[] y0 = y[i2]; // cache output array reference, for efficiency
    for (int i1=0,j1=1; i1&lt;n1; ++i1,++j1) // the inner loop
      y0[i1] = xm[j1]+xp[j1]+x0[j1-1]+x0[j1+1]-4.0f*x0[j1];
  }
 </code></pre>
 In the inner loop, the input index j1 is one greater than the output
 index i1. This difference accounts for the padding with an extra 
 l1 = 1 value at the beginning of the arrays xm, x0 and xp. An extra 
 m1 = 1 value of padding is also provided at the end of each of these 
 three arrays. In other words, the arrays xm, x0 and xp each contain 
 l1+n1+m1 values. This padding enables the inner loop to be written 
 simply, with no special cases near the ends of the arrays.
 <p>
 While simple, the program above is also efficient. First, the buffer
 contains only three 1D arrays, independent of the 2D array length n2. 
 Second, although input array values must be copied to the buffer, 
 those values are used multiple times before being replaced by other 
 values.
 <p>
 Another purpose of this class is to facilitate filtering in place. In 
 the example above, the input array x and output array y can be the same 
 array, so that output values replace input values. This works because 
 input values x are copied into the buffer <em>before</em> they are 
 overwritten by output values y.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Extrapolation.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Extrapolation</a></strong></code>
<div class="block">The method used to extrapolate values beyond the ends of input arrays.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Mode.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Mode</a></strong></code>
<div class="block">The mode indicates whether buffered values will be accessed and/or 
 modified.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#FilterBuffer2(int,%20int,%20int,%20int,%20float[][])">FilterBuffer2</a></strong>(int&nbsp;l1,
             int&nbsp;m1,
             int&nbsp;l2,
             int&nbsp;m2,
             float[][]&nbsp;a)</code>
<div class="block">Constructs a buffer for the specified array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#FilterBuffer2(int,%20int,%20int,%20int,%20int,%20int)">FilterBuffer2</a></strong>(int&nbsp;l1,
             int&nbsp;m1,
             int&nbsp;n1,
             int&nbsp;l2,
             int&nbsp;m2,
             int&nbsp;n2)</code>
<div class="block">Constructs a buffer for specified array lengths.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#flush()">flush</a></strong>()</code>
<div class="block">Flushes this buffer, if it is an output or input-output buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#get(int)">get</a></strong>(int&nbsp;i2)</code>
<div class="block">Copies values from the buffered array into this buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#setArray(float[][])">setArray</a></strong>(float[][]&nbsp;a)</code>
<div class="block">Sets the array of values to be buffered.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#setExtrapolation(edu.mines.jtk.dsp.FilterBuffer2.Extrapolation)">setExtrapolation</a></strong>(<a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Extrapolation.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Extrapolation</a>&nbsp;extrapolation)</code>
<div class="block">Sets the method used to extrapolate values beyond the ends of arrays.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.html#setMode(edu.mines.jtk.dsp.FilterBuffer2.Mode)">setMode</a></strong>(<a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Mode.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Mode</a>&nbsp;mode)</code>
<div class="block">Sets the mode (input, output, or input-output) for this buffer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FilterBuffer2(int, int, int, int, float[][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FilterBuffer2</h4>
<pre>public&nbsp;FilterBuffer2(int&nbsp;l1,
             int&nbsp;m1,
             int&nbsp;l2,
             int&nbsp;m2,
             float[][]&nbsp;a)</pre>
<div class="block">Constructs a buffer for the specified array. The buffer will 
 store l2+1+m2 1D arrays, each with l1+n1+m1 values. Array
 lengths n1 and n2 are set to n1=a[0].length and n2=a.length.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>l1</code> - number of extra values at beginning in 1st dimension.</dd><dd><code>m1</code> - number of extra values at end in 1st dimension.</dd><dd><code>l2</code> - number of extra values at beginning in 2nd dimension.</dd><dd><code>m2</code> - number of extra values at end in 2nd dimension.</dd><dd><code>a</code> - the array[n2][n1] of values to be buffered.</dd></dl>
</li>
</ul>
<a name="FilterBuffer2(int, int, int, int, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FilterBuffer2</h4>
<pre>public&nbsp;FilterBuffer2(int&nbsp;l1,
             int&nbsp;m1,
             int&nbsp;n1,
             int&nbsp;l2,
             int&nbsp;m2,
             int&nbsp;n2)</pre>
<div class="block">Constructs a buffer for specified array lengths. The buffer 
 will store l2+1+m2 1D arrays, each with l1+n1+m1 values. Array
 lengths n1 and n2 are specified explicitly here. An array with
 those lengths must be specified later, but before accessing 
 buffered values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>l1</code> - number of extra values at beginning in 1st dimension.</dd><dd><code>m1</code> - number of extra values at end in 1st dimension.</dd><dd><code>n1</code> - number of values (not counting extras) in 1st dimension.</dd><dd><code>l2</code> - number of extra values at beginning in 2nd dimension.</dd><dd><code>m2</code> - number of extra values at end in 2nd dimension.</dd><dd><code>n2</code> - number of values (not counting extras) in 2nd dimension.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setArray(float[][])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArray</h4>
<pre>public&nbsp;void&nbsp;setArray(float[][]&nbsp;a)</pre>
<div class="block">Sets the array of values to be buffered. Array lengths must match 
 those with which this buffer was constructed. Any values currently 
 in this buffer are forgotten. Therefore, this method should not be
 called while looping over array values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the array; referenced, not copied.</dd></dl>
</li>
</ul>
<a name="setExtrapolation(edu.mines.jtk.dsp.FilterBuffer2.Extrapolation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExtrapolation</h4>
<pre>public&nbsp;void&nbsp;setExtrapolation(<a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Extrapolation.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Extrapolation</a>&nbsp;extrapolation)</pre>
<div class="block">Sets the method used to extrapolate values beyond the ends of arrays.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>extrapolation</code> - the extrapolation method.</dd></dl>
</li>
</ul>
<a name="setMode(edu.mines.jtk.dsp.FilterBuffer2.Mode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMode</h4>
<pre>public&nbsp;void&nbsp;setMode(<a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Mode.html" title="enum in edu.mines.jtk.dsp">FilterBuffer2.Mode</a>&nbsp;mode)</pre>
<div class="block">Sets the mode (input, output, or input-output) for this buffer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mode</code> - the mode.</dd></dl>
</li>
</ul>
<a name="get(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;float[]&nbsp;get(int&nbsp;i2)</pre>
<div class="block">Copies values from the buffered array into this buffer.
 If the values are already in this buffer, they are assumed to be 
 unchanged, and no copy is performed. In either case, this method
 returns a referenced to the buffered values.
 <p>
 The returned buffered array has l1+m1 extra values at the ends;
 the first l1 values and the last m1 values are extrapolated.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i2</code> - index in 2nd dimension of the buffered array to get.</dd>
<dt><span class="strong">Returns:</span></dt><dd>reference to an array of buffered values.</dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;void&nbsp;flush()</pre>
<div class="block">Flushes this buffer, if it is an output or input-output buffer. 
 Flushing copies all values (except extrapolated values) from this 
 buffer to its buffered array. This method should be called after 
 any loops in which output values have been buffered. For input-only 
 buffers, this method does nothing.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/mines/jtk/dsp/FftReal.html" title="class in edu.mines.jtk.dsp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../edu/mines/jtk/dsp/FilterBuffer2.Extrapolation.html" title="enum in edu.mines.jtk.dsp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/mines/jtk/dsp/FilterBuffer2.html" target="_top">Frames</a></li>
<li><a href="FilterBuffer2.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
